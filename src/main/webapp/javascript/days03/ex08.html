<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ex08 js</title>
<link rel="shortcut icon" type="image/x-icon" href="http://localhost/webPro/images/SiSt.ico">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<link rel="stylesheet" href="../../resources/cdn-main/example.css">
<script src="../../resources/cdn-main/example.js"></script>
<style>
  span.material-symbols-outlined {
    vertical-align: text-bottom;
  }
</style>
</head>
<body>
<header>
  <h1 class="main"><a href="#" style="position: absolute;top:30px;">msg Home</a></h1>
  <ul>
    <li><a href="#">로그인</a></li>
    <li><a href="#">회원가입</a></li>
  </ul>
</header>
<div>
  <xmp class="code">
    select 태그에서
        <option>text</option>

    value 속성값을 설정하지 않으면 자동으로 text값으로 
    value 속성값이 설정된다. 
    <option>kor</option>
    <option value="kor">kor</option> 
  </xmp>

  <select name="subject" id="subject">
    <option value="">선택하세요</option>
    <option value="kor">국어</option>
    <option value="eng">영어</option>
    <option value="mat" selected>수학</option>
    <option value="pe">체육</option>
  </select>
  <br>
  <button>확인</button>
  <p id="demo">eng / 영어</p>
</div>

<script>

    document.querySelector("#subject").onchange = function(){
        document.querySelector("button").click();
    }
    // change 이벤트 주의점: 이미 선택된 항목 다시 선택 시 이벤트 발생하지 않는다. 
    document.querySelector("button").onclick = function () {
        const sel = document.querySelector("#subject");
        const demo = document.querySelector("#demo");

        //<select> 태그로부터 선택된 <option> 태그
        // selected ="selected"
        // 선택된 옵션태그의 index값을 설정/가져오는 속성
        // alert (sel.selectedIndex); 
        if(sel.selectedIndex == 0){
            alert("과목을 선택하세요");
            return;
        }

        // 선택된 option 태그를 얻어오는 작업
        // js 컬렉션 : options
        // <option value="mat" selected>수학</option>
        const sop = sel.options[sel.selectedIndex];
        // sop.innerText 수학
        // sop.value
        let oValue = sop.getAttribute("value");
        let oText = sop.text;

        demo.innerHTML = `선택한 옵션의 value : ${oValue}
        <br>
        선택한 옵션의 text : ${oText}`;
    }
</script>
</body>
</html>